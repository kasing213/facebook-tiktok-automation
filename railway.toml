[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"
watchPatterns = ["**"]

[deploy]
healthcheckPath = "/health"
healthcheckTimeout = 30
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Railway Configuration for Main Backend
#
# Railway will automatically inject the PORT environment variable
# Dockerfile CMD handles PORT expansion: ${PORT:-8000}
#
# Health Check:
#   - Endpoint: /health
#   - Returns: {"status": "ok|degraded", "environment": "production", "version": "...", ...}
#   - Timeout: 30 seconds
#
# Restart Policy:
#   - Type: ON_FAILURE (auto-restart on crashes, not manual stops)
#   - Max Retries: 3 (prevents infinite restart loops)

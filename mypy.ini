[mypy]
# Basic configuration for type checking
python_version = 3.12
warn_return_any = True
warn_unused_configs = True
disallow_untyped_defs = False
disallow_incomplete_defs = False
check_untyped_defs = True
disallow_untyped_decorators = False
no_implicit_optional = True
warn_redundant_casts = True
warn_unused_ignores = True
warn_unreachable = True
strict_equality = True

# Allow missing imports for external libraries
ignore_missing_imports = True

# Exclude test files and migrations
exclude = ^(app/tests/.*\.py|migrations/.*\.py|\.venv/.*\.py|venv/.*\.py)$

# Specific module configurations
[mypy-app.core.*]
# More strict checking for core modules
disallow_untyped_defs = True
disallow_incomplete_defs = True

[mypy-app.services.*]
# Strict checking for services
disallow_untyped_defs = True
disallow_incomplete_defs = True

[mypy-app.routes.*]
# Moderate checking for routes (FastAPI can be complex)
disallow_untyped_defs = False
disallow_incomplete_defs = False

[mypy-app.repositories.*]
# Strict checking for repositories
disallow_untyped_defs = True
disallow_incomplete_defs = True

# External library configurations
[mypy-pyotp]
ignore_missing_imports = True

[mypy-qrcode]
ignore_missing_imports = True

[mypy-bcrypt]
ignore_missing_imports = True

[mypy-jose]
ignore_missing_imports = True

[mypy-aiogram]
ignore_missing_imports = True

[mypy-sqlalchemy.*]
ignore_missing_imports = True

[mypy-alembic.*]
ignore_missing_imports = True

[mypy-fastapi.*]
ignore_missing_imports = True

[mypy-pydantic.*]
ignore_missing_imports = True

[mypy-pandas.*]
ignore_missing_imports = True

[mypy-requests.*]
ignore_missing_imports = True

[mypy-stripe.*]
ignore_missing_imports = True

[mypy-boto3.*]
ignore_missing_imports = True

[mypy-pymongo.*]
ignore_missing_imports = True

[mypy-motor.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-cryptography.*]
ignore_missing_imports = True

[mypy-tenacity.*]
ignore_missing_imports = True

[mypy-fpdf2.*]
ignore_missing_imports = True

[mypy-openpyxl.*]
ignore_missing_imports = True
# ================================================================================================
# üöÄ FACEBOOK/TIKTOK AUTOMATION PROJECT - ENVIRONMENT CONFIGURATION
# ================================================================================================
# INSTRUCTIONS:
#   1. Copy this file: cp .env.example .env
#   2. Replace ALL placeholder values with your actual credentials
#   3. NEVER commit .env with real secrets to version control!
#
# REQUIRED VARIABLES (8): Must be set or app will crash on startup
#   ‚úÖ DATABASE_URL, OAUTH_STATE_SECRET, MASTER_SECRET_KEY
#   ‚úÖ FB_APP_ID, FB_APP_SECRET, TIKTOK_CLIENT_KEY, TIKTOK_CLIENT_SECRET, TELEGRAM_BOT_TOKEN
#
# OPTIONAL VARIABLES: Have defaults but can be customized
# ================================================================================================

# ================================
# üåê APPLICATION ENVIRONMENT
# ================================
# ENV: Application environment (dev, staging, prod)
# BASE_URL: Backend API base URL (update for production deployment)
# FRONTEND_URL: Frontend application URL (for CORS and redirects)
ENV=dev
BASE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

# ================================
# üõ¢Ô∏è DATABASE (Supabase PostgreSQL)
# ================================
# REQUIRED: PostgreSQL connection string
#
# üìç Get from: Supabase Dashboard ‚Üí Project Settings ‚Üí Database ‚Üí Connection String
#
# Connection Options:
#   Option 1: Direct Connection (requires IPv6 or Supabase IPv4 add-on)
#     postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:5432/postgres
#
#   Option 2: Session Pooler (‚≠ê RECOMMENDED for Railway/Vercel - IPv4 compatible)
#     postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:6543/postgres?pgbouncer=true
#     Note: Port 6543 for pooler, port 5432 for direct connection
#
# Connection Pooling Settings (SQLAlchemy):
#   - Pool size: 10 base connections
#   - Max overflow: 20 connections (total: 30)
#   - Pool recycle: 3600 seconds (1 hour)
#   - Pool timeout: 30 seconds
#
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.xxx.supabase.co:5432/postgres

# ================================
# üîí SECURITY KEYS (REQUIRED)
# ================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Run 2 times to generate 2 different secrets
#
# OAUTH_STATE_SECRET: HMAC-SHA256 signing key for OAuth CSRF protection
# MASTER_SECRET_KEY: Fernet encryption key for OAuth token storage (256-bit)
#
OAUTH_STATE_SECRET=your-oauth-state-secret-32-chars-minimum
MASTER_SECRET_KEY=your-master-secret-key-32-chars-minimum

# ================================
# ü§ñ TELEGRAM BOT (REQUIRED)
# ================================
# Get from: https://t.me/BotFather
# 1. Send /newbot command
# 2. Follow prompts to create bot
# 3. Copy token below
#
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# ================================
# üìò FACEBOOK OAUTH (REQUIRED)
# ================================
# Get from: https://developers.facebook.com/apps
#
# Setup:
#   1. Create app or use existing
#   2. Add "Facebook Login" product
#   3. Set OAuth Redirect URI: {BASE_URL}/oauth/facebook/callback
#   4. Copy credentials below
#
FB_APP_ID=your-facebook-app-id
FB_APP_SECRET=your-facebook-app-secret

# Facebook OAuth Scopes (comma-separated, no spaces)
# Dev/Test Scopes (work without App Review for test accounts):
#   - ads_read: Read ad campaigns and insights
#   - pages_show_list: List managed pages
#   - pages_read_engagement: Read page metrics
#   - business_management: Manage Business Manager
#
# Production Scopes (require App Review):
#   - pages_manage_posts, pages_manage_ads, ads_management
#
FB_SCOPES=ads_read,pages_show_list,pages_read_engagement,business_management

# ================================
# üéµ TIKTOK OAUTH (REQUIRED)
# ================================
# Get from: https://developers.tiktok.com/
#
# Setup:
#   1. Create app in TikTok Developer Portal
#   2. Configure scopes and redirect URI
#   3. Set Redirect URI: {BASE_URL}/oauth/tiktok/callback
#   4. Copy Client Key and Secret below
#
TIKTOK_CLIENT_KEY=your-tiktok-client-key
TIKTOK_CLIENT_SECRET=your-tiktok-client-secret

# TikTok OAuth Scopes (comma-separated, no spaces)
# Available Scopes:
#   - user.info.basic: Username, display name, avatar
#   - user.info.profile: Bio, links, verification status
#   - user.info.stats: Followers, likes, video count
#   - video.upload, video.publish: Require app approval
#
TIKTOK_SCOPES=user.info.basic,video.upload,video.publish

# ================================
# ü™ù WEBHOOK VERIFICATION (OPTIONAL)
# ================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Configure same tokens in Facebook App Dashboard and TikTok Developer Portal
#
# Defaults are provided but change for production
FACEBOOK_WEBHOOK_VERIFY_TOKEN=my_facebook_verify_token_change_me
TIKTOK_WEBHOOK_VERIFY_TOKEN=my_tiktok_verify_token_change_me

# ================================
# üñ•Ô∏è API SERVER (OPTIONAL)
# ================================
# API_HOST: Server bind address (0.0.0.0 = all interfaces)
# API_PORT: Server port (1024-65535, default: 8000)
API_HOST=0.0.0.0
API_PORT=8000

# ================================
# ‚è∞ BACKGROUND JOBS (OPTIONAL)
# ================================
# Control interval for background tasks (in seconds)
#
# TOKEN_REFRESH_INTERVAL: Check and refresh expiring OAuth tokens (min: 60, default: 3600)
# AUTOMATION_CHECK_INTERVAL: Check for due automations (min: 10, default: 60)
# CLEANUP_INTERVAL: Cleanup expired tokens (min: 3600, default: 86400)
#
# TOKEN_REFRESH_INTERVAL=3600
# AUTOMATION_CHECK_INTERVAL=60
# CLEANUP_INTERVAL=86400

# ================================
# üóÑÔ∏è REDIS CACHE (OPTIONAL)
# ================================
# Redis connection for session storage and caching
# Leave empty to disable Redis features
# REDIS_URL=redis://localhost:6379/0

# ================================
# üîê SUPABASE FEATURES (OPTIONAL)
# ================================
# Only needed if using Supabase Auth, Storage, or Realtime
# Get from: Supabase Dashboard ‚Üí Project Settings ‚Üí API
#
# SUPABASE_URL=https://xxx.supabase.co
# SUPABASE_ANON_KEY=your-anon-public-key
# SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-keep-secret

# ================================
# üõ†Ô∏è DEVELOPMENT TOOLS (OPTIONAL)
# ================================
# For MCP server integration and development tooling
# Not required for application runtime
#
# GITHUB_PERSONAL_ACCESS_TOKEN=ghp_xxxxxxxxxxxxx
# BRAVE_API_KEY=BSA_xxxxxxxxxxxxx
# RAILWAY_TOKEN=your-railway-deployment-token
